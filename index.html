<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vinca Gym - Ruang Aman & Nyaman untuk Wanita Berolahraga</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <!-- QR Scanner Libraries -->
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>

    <style>
    :root {
        --urban-dark: #1F1F1F;
        --urban-medium: #2D2329;
        --urban-light: #2a1f25;
        --rose-cream: #F9EBEE;
        --rose-light: #F7A7D3;
        --rose-bright: #F15CA1;
        --urban-gray: #8C868D;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Inter', sans-serif;
        background: var(--urban-dark);
        color: white;
        line-height: 1.7;
    }

    /* Custom colors */
    .urban-dark { color: #1F1F1F; }
    .urban-medium { color: #2D2329; }
    .urban-light { color: #2a1f25; }
    .urban-gray { color: #8C868D; }
    .rose-cream { color: #F9EBEE; }
    .rose-light { color: #F7A7D3; }
    .rose-bright { color: #F15CA1; }

    /* Gradien Background dengan Urban Rose theme */
    .bg-gradient-feminine {
      background: linear-gradient(135deg, #1f1f1f 0%, #2D2329 30%, #2a1f25 70%, #1f1f1f 100%);
    }

    .bg-gradient-dark {
      background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #0f0f0f 100%);
    }

    .bg-gradient-rose {
      background: linear-gradient(135deg, #F15CA1 0%, #F7A7D3 100%);
    }

    /* Card Modern */
    .card-modern {
      background: linear-gradient(135deg, rgba(45, 35, 41, 0.7) 0%, rgba(31, 31, 31, 0.9) 100%);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(241, 92, 161, 0.15);
      border-radius: 1rem;
      box-shadow: 0 8px 32px rgba(241, 92, 161, 0.1);
    }

    .card-modern:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 40px rgba(241, 92, 161, 0.2);
      transition: all 0.3s ease;
    }

    /* Icon Modern */
    .icon-modern {
      width: 4rem;
      height: 4rem;
      background: linear-gradient(135deg, rgba(241, 92, 161, 0.2), rgba(247, 167, 211, 0.1));
      backdrop-filter: blur(10px);
      border: 1px solid rgba(241, 92, 161, 0.2);
      border-radius: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1.5rem;
      position: relative;
    }

    .icon-modern::before {
      content: '';
      position: absolute;
      inset: -1px;
      background: linear-gradient(135deg, #F15CA1, #F7A7D3);
      border-radius: inherit;
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .icon-modern:hover::before {
      opacity: 0.3;
    }

    /* Button Styles */
    .btn-primary {
      background: linear-gradient(135deg, #F15CA1 0%, #F7A7D3 100%);
      border: none;
      padding: 1rem 2rem;
      border-radius: 0.75rem;
      font-weight: 600;
      color: white;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.3s ease;
      box-shadow: 0 4px 20px rgba(241, 92, 161, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 30px rgba(241, 92, 161, 0.4);
    }

    .btn-outline {
      border: 2px solid rgba(241, 92, 161, 0.5);
      background: rgba(241, 92, 161, 0.1);
      backdrop-filter: blur(10px);
      padding: 1rem 2rem;
      border-radius: 0.75rem;
      color: #F15CA1;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .btn-outline:hover {
      background: rgba(241, 92, 161, 0.2);
      border-color: #F15CA1;
      transform: translateY(-2px);
    }

    .btn-success {
        background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 0.75rem;
        font-weight: 600;
        color: white;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        transition: all 0.3s ease;
        box-shadow: 0 4px 20px rgba(16, 185, 129, 0.3);
        cursor: pointer;
        border: none;
        font-family: inherit;
        font-size: inherit;
    }

    .btn-success:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 30px rgba(16, 185, 129, 0.4);
    }

    /* Badge Modern */
    .badge-modern {
      background: linear-gradient(135deg, rgba(241, 92, 161, 0.15), rgba(247, 167, 211, 0.1));
      backdrop-filter: blur(20px);
      border: 1px solid rgba(241, 92, 161, 0.2);
      box-shadow: 0 4px 20px rgba(241, 92, 161, 0.1);
    }

    /* Header dengan Glass Effect */
    .header-glass {
      position: relative;
      overflow: hidden;
    }

    .header-glass::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, #8C868D, #F15CA1, transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .header-glass:hover::before {
      opacity: 1;
    }

    .header-blur {
      background: rgba(15, 15, 15, 0.9);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(241, 92, 161, 0.1);
    }

    /* Benefit list styling */
    .benefit-list {
      list-style: none;
    }

    .benefit-list li {
      position: relative;
      padding-left: 2rem;
      margin-bottom: 0.75rem;
      color: #e5e7eb;
    }

    .benefit-list li::before {
      content: 'âœ“';
      position: absolute;
      left: 0;
      color: #F15CA1;
      font-weight: bold;
      font-size: 1.1rem;
    }

    /* Testimonial card */
    .testimonial-card {
      background: linear-gradient(135deg, rgba(45, 35, 41, 0.8) 0%, rgba(31, 31, 31, 0.95) 100%);
      backdrop-filter: blur(25px);
      border: 1px solid rgba(241, 92, 161, 0.12);
      border-radius: 1.25rem;
      padding: 2rem;
      position: relative;
      overflow: hidden;
    }

    .testimonial-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, #F15CA1, #F7A7D3);
      opacity: 0.6;
    }

    .testimonial-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 60px rgba(241, 92, 161, 0.15);
      transition: all 0.3s ease;
    }

    /* Pricing card */
    .pricing-card {
      background: linear-gradient(135deg, rgba(45, 35, 41, 0.7) 0%, rgba(31, 31, 31, 0.9) 100%);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(241, 92, 161, 0.15);
      border-radius: 1.5rem;
      padding: 2.5rem 2rem;
      position: relative;
      transition: all 0.3s ease;
      height: 100%;
    }

    .pricing-card.featured {
      background: linear-gradient(135deg, rgba(241, 92, 161, 0.1) 0%, rgba(247, 167, 211, 0.05) 100%);
      border: 1px solid rgba(241, 92, 161, 0.3);
      transform: scale(1.05);
    }

    .pricing-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 25px 80px rgba(241, 92, 161, 0.2);
    }

    .pricing-card.featured:hover {
      transform: translateY(-8px) scale(1.05);
    }

    /* Prayer badge styling */
    .prayer-badge {
      transition: all 0.3s ease;
    }

    .prayer-badge:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(241, 92, 161, 0.3);
    }

    /* Animation */
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    .float-animation {
      animation: float 6s ease-in-out infinite;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .fade-in-up {
      animation: fadeInUp 0.8s ease-out forwards;
    }

    /* QR Scanner Floating Button */
    .qr-float-btn {
        position: fixed;
        bottom: 140px; /* Above WhatsApp button */
        right: 20px;
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 50;
        box-shadow: 0 8px 32px rgba(59, 130, 246, 0.3);
        transition: all 0.3s ease;
        border: 2px solid rgba(59, 130, 246, 0.2);
    }

    .qr-float-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 40px rgba(59, 130, 246, 0.4);
        background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    }

    .qr-float-btn i {
        color: white;
        font-size: 24px;
    }

    /* WhatsApp floating button positioning */
    .whatsapp-float {
        position: fixed;
        bottom: 70px; /* Below QR button */
        right: 20px;
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #25d366 0%, #128c7e 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 50;
        box-shadow: 0 8px 32px rgba(37, 211, 102, 0.3);
        transition: all 0.3s ease;
        text-decoration: none;
    }

    .whatsapp-float:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 40px rgba(37, 211, 102, 0.4);
    }

    .whatsapp-float i {
        color: white;
        font-size: 24px;
    }

    /* QR Scanner Modal */
    .qr-modal {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(4px);
        z-index: 60;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1rem;
    }

    .qr-modal.hidden {
        display: none;
    }

    .qr-modal-content {
        background: linear-gradient(135deg, rgba(45, 35, 41, 0.95) 0%, rgba(31, 31, 31, 0.98) 100%);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(59, 130, 246, 0.2);
        border-radius: 1.5rem;
        padding: 2rem;
        max-width: 500px;
        width: 100%;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
    }

    /* QR Reader Styles */
    #reader {
        border: 2px solid rgba(59, 130, 246, 0.3);
        border-radius: 1rem;
        overflow: hidden;
        max-width: 100%;
        margin: 1rem 0;
    }

    #reader video {
        width: 100%;
        height: auto;
        border-radius: 0.75rem;
    }

    /* Result styles */
    .result-success {
        background: linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%);
        border: 1px solid rgba(16, 185, 129, 0.3);
        border-radius: 1rem;
        padding: 1.5rem;
        margin-top: 1rem;
        color: #10b981;
    }

    .result-error {
        background: linear-gradient(135deg, rgba(239, 68, 68, 0.2) 0%, rgba(220, 38, 38, 0.1) 100%);
        border: 1px solid rgba(239, 68, 68, 0.3);
        border-radius: 1rem;
        padding: 1.5rem;
        margin-top: 1rem;
        color: #ef4444;
    }

    .result-warning {
        background: linear-gradient(135deg, rgba(245, 158, 11, 0.2) 0%, rgba(217, 119, 6, 0.1) 100%);
        border: 1px solid rgba(245, 158, 11, 0.3);
        border-radius: 1rem;
        padding: 1.5rem;
        margin-top: 1rem;
        color: #f59e0b;
    }

    /* Mobile responsive */
    @media (max-width: 640px) {
        .qr-float-btn, .whatsapp-float {
            width: 50px;
            height: 50px;
            right: 15px;
        }

        .qr-float-btn {
            bottom: 120px;
        }

        .whatsapp-float {
            bottom: 60px;
        }

        .qr-float-btn i, .whatsapp-float i {
            font-size: 20px;
        }

        .qr-modal-content {
            padding: 1.5rem;
            margin: 1rem;
        }
    }

    /* Hide default scrollbar but keep functionality */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(45, 35, 41, 0.3);
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb {
      background: linear-gradient(135deg, #F15CA1, #F7A7D3);
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(135deg, #F7A7D3, #F15CA1);
    }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-40 header-glass header-blur transition-all duration-300">
      <div class="container mx-auto px-6 py-4">
        <div class="flex items-center justify-between">
          <div class="text-2xl font-bold font-serif">
            <span class="text-white">Vinca</span> <span class="rose-bright">Gym</span>
          </div>
          <div class="hidden md:flex space-x-8">
            <a href="#harga" class="font-semibold rose-bright">Daftar Membership</a>
            <a href="perpanjang.html" class="text-gray-300 hover:text-white transition-colors">Perpanjang</a>
            <a href="#harga" class="text-gray-300 hover:text-white transition-colors">Harga</a>
            <a href="#why-us" class="text-gray-300 hover:text-white transition-colors">Tentang</a>
            <a href="#testimonial" class="text-gray-300 hover:text-white transition-colors">Testimoni</a>
            <a href="#faq" class="text-gray-300 hover:text-white transition-colors">FAQ</a>
            <a href="#kontak" class="text-gray-300 hover:text-white transition-colors">Kontak</a>
          </div>
          <div class="md:hidden"><button id="menu-btn" class="text-white focus:outline-none"><i class="ph ph-list text-3xl"></i></button></div>
        </div>
      </div>
      <div id="mobile-menu" class="hidden md:hidden bg-black/95 backdrop-blur-lg">
        <a href="#harga" class="block py-3 px-6 text-sm font-semibold rose-bright">Daftar Membership</a>
        <a href="perpanjang.html" class="block py-3 px-6 text-sm text-gray-300 hover:bg-gray-800">Perpanjang</a>
        <a href="#harga" class="block py-3 px-6 text-sm text-gray-300 hover:bg-gray-800">Harga</a>
        <a href="#why-us" class="block py-3 px-6 text-sm text-gray-300 hover:bg-gray-800">Tentang</a>
        <a href="#testimonial" class="block py-3 px-6 text-sm text-gray-300 hover:bg-gray-800">Testimoni</a>
        <a href="#faq" class="block py-3 px-6 text-sm text-gray-300 hover:bg-gray-800">FAQ</a>
        <a href="#kontak" class="block py-3 px-6 text-sm text-gray-300 hover:bg-gray-800">Kontak</a>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="min-h-screen flex items-center justify-center bg-gradient-feminine relative overflow-hidden pt-20">
      <!-- Decorative background elements -->
      <div class="absolute top-20 right-10 w-32 h-32 bg-rose-bright/10 rounded-full blur-3xl"></div>
      <div class="absolute bottom-20 left-10 w-40 h-40 bg-rose-light/10 rounded-full blur-3xl"></div>

      <div class="relative z-10 max-w-6xl mx-auto px-4">
        <!-- Prayer Time Badge - MOVED TO TOP -->
        <div class="mb-4">
          <span id="prayer-badge" class="prayer-badge inline-flex items-center gap-2 px-6 py-3 rounded-full bg-rose-bright/15 backdrop-blur-lg border border-rose-bright/30 text-rose-bright cursor-pointer hover:bg-rose-bright/25 transition-all text-base font-semibold" onclick="showPrayerModal()">
            <i class="ph ph-mosque text-xl"></i>
            <span class="hidden sm:inline">Sholat Selanjutnya:</span>
            <span id="next-prayer-time" class="font-bold">Loading...</span>
          </span>
        </div>

        <!-- Badge -->
        <div class="inline-flex items-center gap-3 px-4 py-2 rounded-full badge-modern text-sm font-medium tracking-wide mb-6 float-animation">
          <i class="ph ph-shield-check rose-bright"></i>
          <span class="text-white">MOVE WITH US â€¢ WOMEN ONLY â€¢ SAFE SPACE</span>
        </div>

        <!-- Heading -->
        <div class="text-center max-w-4xl mx-auto">
          <h1 class="text-5xl md:text-7xl font-bold font-serif mb-6 leading-tight">
            <span class="text-white">Ruang Aman &</span><br>
            <span class="text-white">Nyaman untuk Wanita</span><br>
            <span class="bg-gradient-rose bg-clip-text text-transparent">Berolahraga</span>
          </h1>
          <p class="text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed">
            Eksklusif wanita, komunitas suportif, dan fasilitas modern untuk perjalanan kebugaran yang konsisten dan menyenangkan.
          </p>
          <div class="flex flex-col sm:flex-row gap-6 justify-center items-center">
            <a href="daftar-member.html" class="btn-primary text-lg px-8 py-4">
              <i class="ph ph-sparkle"></i> Mulai Perjalanan
            </a>
            <a href="#harga" class="btn-outline text-lg px-8 py-4">
              <i class="ph ph-info"></i> Lihat Paket
            </a>
          </div>
        </div>

        <!-- Social Proof -->
        <div class="mt-8 text-sm text-gray-200 flex flex-wrap items-center justify-center gap-4">
          <span class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 backdrop-blur-lg border border-white/10">
            <i class="ph ph-users-three rose-bright"></i>Â±50 member aktif
          </span>
          <span class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 backdrop-blur-lg border border-white/10">
            <i class="ph ph-star text-yellow-400"></i> 5/5 rating
          </span>
          <span class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 backdrop-blur-lg border border-white/10">
            <i class="ph ph-heart rose-bright"></i> No music â€¢ No ikhtilat â€¢ No camera
          </span>
        </div>
      </div>
    </section>

    <!-- Prayer Modal -->
    <div id="prayer-modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[60] hidden items-center justify-center p-4">
      <div class="card-modern p-6 w-full max-w-md max-h-[80vh] overflow-y-auto">
        <div class="flex items-center justify-between mb-6">
          <h3 class="text-xl font-bold font-serif text-white flex items-center gap-2">
            <i class="ph ph-mosque text-rose-bright"></i>
            Jadwal Sholat Hari Ini
          </h3>
          <button onclick="closePrayerModal()" class="text-gray-400 hover:text-white transition-colors">
            <i class="ph ph-x text-xl"></i>
          </button>
        </div>

        <div class="space-y-3">
          <div class="text-center mb-4">
            <div class="text-sm text-gray-400">Pamulang, Tangerang Selatan</div>
            <div id="current-date" class="text-lg font-semibold text-white"></div>
            <div id="hijri-date" class="text-sm text-rose-bright"></div>
          </div>

          <div id="prayer-list" class="space-y-2">
            <!-- Prayer times will be populated by JavaScript -->
          </div>

          <div class="text-xs text-gray-400 text-center mt-4">
            Waktu dapat berbeda Â±2 menit
          </div>
        </div>
      </div>
    </div>

    <!-- Why Choose Us Section -->
    <section id="why-us" class="py-20 bg-gradient-dark">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-bold font-serif mb-4">
            Mengapa Memilih <span class="rose-bright">Vinca Gym</span>?
          </h2>
          <p class="text-gray-400 text-lg max-w-2xl mx-auto">
            Lebih dari sekedar tempat olahraga, kami adalah rumah kedua untuk perjalanan transformasi Anda
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
          <div class="card-modern p-8 text-center">
            <div class="icon-modern">
              <i class="ph ph-sparkle text-3xl rose-bright"></i>
            </div>
            <h3 class="text-2xl font-semibold mb-4 text-white font-serif">Eksklusif Wanita</h3>
            <p class="text-gray-400 leading-relaxed">Lingkungan yang 100% aman dan nyaman, dirancang khusus untuk memenuhi kebutuhan kebugaran wanita modern.</p>
          </div>

          <div class="card-modern p-8 text-center">
            <div class="icon-modern">
              <i class="ph ph-users-three text-3xl rose-bright"></i>
            </div>
            <h3 class="text-2xl font-semibold mb-4 text-white font-serif">Komunitas Solid</h3>
            <p class="text-gray-400 leading-relaxed">Temukan teman baru dan saling mendukung dalam perjalanan kebugaran bersama para wanita inspiratif lainnya.</p>
          </div>

          <div class="card-modern p-8 text-center">
            <div class="icon-modern">
              <i class="ph ph-dumbbell text-3xl rose-bright"></i>
            </div>
            <h3 class="text-2xl font-semibold mb-4 text-white font-serif">Fasilitas & Panduan Terbaik</h3>
            <p class="text-gray-400 leading-relaxed">Peralatan khusus wanita dan Gym Keeper berpengalaman siap memandu setiap langkah perjalanan fitness Anda.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonial" class="py-20 bg-gradient-feminine">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-bold font-serif mb-4">
            Apa Kata <span class="rose-bright">Member Kami</span>?
          </h2>
          <p class="text-gray-400 text-lg max-w-2xl mx-auto">
            Cerita inspiratif dari para wanita yang telah merasakan transformasi di Vinca Gym
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
          <div class="testimonial-card">
            <div class="flex items-center mb-6">
              <div class="w-12 h-12 bg-gradient-rose rounded-full flex items-center justify-center mr-4">
                <span class="font-bold text-white text-lg">S</span>
              </div>
              <div>
                <h4 class="font-semibold text-white">Shofiya</h4>
                <p class="text-sm urban-gray">Member Aktif</p>
              </div>
            </div>
            <p class="text-gray-300 leading-relaxed italic mb-4">"Alhamdulillah, di Vinca Gym saya merasa sangat nyaman karena sesama muslimah dan nggak ada musik. Gym Keeper-nya juga sabar banget ngajarin teknik yang benar. Sekarang saya lebih percaya diri dan sehat!"</p>
            <div class="flex text-yellow-400">
              <i class="ph ph-star-fill"></i>
              <i class="ph ph-star-fill"></i>
              <i class="ph ph-star-fill"></i>
              <i class="ph ph-star-fill"></i>
              <i class="ph ph-star-fill"></i>
            </div>
          </div>

          <div class="testimonial-card">
            <div class="flex items-center mb-6">
              <div class="w-12 h-12 bg-gradient-rose rounded-full flex items-center justify-center mr-4">
                <span class="font-bold text-white text-lg">A</span>
              </div>
              <div>
                <h4 class="font-semibold text-white">Aisha</h4>
                <p class="text-sm urban-gray">Member Aktif</p>
              </div>
            </div>
            <p class="text-gray-300 leading-relaxed italic mb-4">"Sebagai ibu dari 2 anak, saya senang banget ketemu komunitas ibu-ibu yang supportive di sini. Jadwalnya juga fleksibel, jadi bisa disesuaikan sama waktu anak-anak. Plus fasilitasnya bersih dan lengkap!"</p>
            <div class="flex text-yellow-400">
              <i class="ph ph-star-fill"></i>
              <i class="ph ph-star-fill"></i>
              <i class="ph ph-star-fill"></i>
              <i class="ph ph-star-fill"></i>
              <i class="ph ph-star-fill"></i>
            </div>
          </div>

          <div class="testimonial-card">
            <div class="flex items-center mb-6">
              <div class="w-12 h-12 bg-gradient-rose rounded-full flex items-center justify-center mr-4">
                <span class="font-bold text-white text-lg">F</span>
              </div>
              <div>
                <h4 class="font-semibold text-white">Fatima</h4>
                <p class="text-sm urban-gray">Member Aktif</p>
              </div>
            </div>
            <p class="text-gray-300 leading-relaxed italic mb-4">"Awalnya ragu mau mulai gym karena pemula banget. Tapi di Vinca Gym semua orang welcome dan tidak ada judgement. Sekarang malah ketagihan olahraga! Terima kasih sudah bikin saya jatuh cinta sama fitness."</p>
            <div class="flex text-yellow-400">
              <i class="ph ph-star-fill"></i>
              <i class="ph ph-star-fill"></i>
              <i class="ph ph-star-fill"></i>
              <i class="ph ph-star-fill"></i>
              <i class="ph ph-star-fill"></i>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Pricing Section -->
    <section id="harga" class="py-20 bg-gradient-dark">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-bold font-serif mb-4">
            Paket <span class="rose-bright">Membership</span>
          </h2>
          <p class="text-gray-400 text-lg max-w-2xl mx-auto">
            Investasi terbaik untuk kesehatan dan kepercayaan diri Anda
          </p>
        </div>

        <!-- Main Membership Packages -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto mb-16">
          <!-- Regular -->
          <div class="pricing-card">
            <div class="text-center mb-8">
              <h3 class="text-2xl font-bold text-white mb-2">Regular</h3>
              <p class="text-gray-400 mb-4">Membership 1 Bulan</p>
              <div class="text-4xl font-bold rose-bright mb-1">200K</div>
              <p class="text-sm text-gray-400">per bulan</p>
            </div>

            <ul class="benefit-list mb-8">
              <li>Akses gym unlimited</li>
              <li>Konsultasi awal dengan gym keeper</li>
              <li>Akses komunitas online</li>
              <li>Program latihan dasar</li>
            </ul>

            <a href="daftar-member.html" class="btn-primary w-full justify-center">
              Pilih Regular
            </a>
          </div>

          <!-- Silver -->
          <div class="pricing-card">
            <div class="text-center mb-8">
              <h3 class="text-2xl font-bold text-white mb-2">Silver</h3>
              <p class="text-gray-400 mb-4">Membership 3 Bulan</p>
              <div class="text-4xl font-bold rose-bright mb-1">525K</div>
              <p class="text-sm text-gray-400">hemat 75K</p>
            </div>

            <ul class="benefit-list mb-8">
              <li>Semua benefit Regular</li>
              <li>Program workout plan personal</li>
              <li>Monthly progress tracking</li>
            </ul>

            <a href="daftar-member.html" class="btn-primary w-full justify-center">
              Pilih Silver
            </a>
          </div>

          <!-- Gold - Featured -->
          <div class="pricing-card featured">
            <div class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
              <span class="bg-gradient-rose text-white px-4 py-1 rounded-full text-sm font-semibold">TERPOPULER</span>
            </div>
            <div class="text-center mb-8">
              <h3 class="text-2xl font-bold text-white mb-2">Gold</h3>
              <p class="text-gray-400 mb-4">Membership 6 Bulan</p>
              <div class="text-4xl font-bold rose-bright mb-1">900K</div>
              <p class="text-sm text-gray-400">hemat 300K</p>
            </div>

            <ul class="benefit-list mb-8">
              <li>Semua benefit Silver</li>
              <li>Personal consultation monthly</li>
              <li>Nutrition guidance</li>
            </ul>

            <a href="daftar-member.html" class="btn-primary w-full justify-center">
              Pilih Gold
            </a>
          </div>

          <!-- Platinum -->
          <div class="pricing-card">
            <div class="text-center mb-8">
              <h3 class="text-2xl font-bold text-white mb-2">Platinum</h3>
              <p class="text-gray-400 mb-4">Membership 1 Tahun</p>
              <div class="text-4xl font-bold rose-bright mb-1">1.2JT</div>
              <p class="text-sm text-gray-400">hemat 1.2JT</p>
            </div>

            <ul class="benefit-list mb-8">
              <li>Semua benefit Gold</li>
              <li>Exclusive member events</li>
              <li>Body composition analysis</li>
            </ul>

            <a href="daftar-member.html" class="btn-primary w-full justify-center">
              Pilih Platinum
            </a>
          </div>
        </div>

        <!-- Additional Fees -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
          <!-- Registration Fee -->
          <div class="card-modern p-8 text-center">
            <div class="icon-modern">
              <i class="ph ph-identification-card text-3xl rose-bright"></i>
            </div>
            <h3 class="text-2xl font-semibold mb-2 text-white">Biaya Lainnya</h3>
            <h4 class="text-lg font-semibold mb-2 rose-bright">Registrasi Awal</h4>
            <p class="text-gray-400 text-sm mb-4">Hanya untuk member baru</p>
            <div class="text-3xl font-bold rose-bright mb-4">50K</div>

            <ul class="benefit-list text-left">
              <li>Orientasi fasilitas gym</li>
              <li>Assessment kondisi fisik</li>
              <li>Pembuatan kartu member</li>
            </ul>
          </div>

          <!-- Daily Visit -->
          <div class="card-modern p-8 text-center">
            <div class="icon-modern">
              <i class="ph ph-calendar text-3xl rose-bright"></i>
            </div>
            <h3 class="text-2xl font-semibold mb-2 text-white">&nbsp;</h3>
            <h4 class="text-lg font-semibold mb-2 rose-bright">Kunjungan Harian</h4>
            <p class="text-gray-400 text-sm mb-4">Untuk non-member per sesi</p>
            <div class="text-3xl font-bold rose-bright mb-4">25K</div>

            <ul class="benefit-list text-left">
              <li>Akses gym selama 1 hari</li>
              <li>Konsultasi singkat</li>
              <li>Trial class (jika ada)</li>
            </ul>
          </div>
        </div>

        <!-- Important Notes -->
        <div class="card-modern p-6 max-w-4xl mx-auto mt-12">
          <h4 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
            <i class="ph ph-info rose-bright"></i>
            Catatan Penting
          </h4>
          <ul class="text-gray-400 space-y-2">
            <li>â€¢ Jika off selama 3 bulan maka wajib melakukan registrasi member baru.</li>
            <li>â€¢ Member tidak dapat digantikan dengan orang lain.</li>
            <li>â€¢ Semua paket berlaku untuk akses sepanjang jam operasional gym.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-20 bg-gradient-feminine">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-bold font-serif mb-4">
            FAQ - <span class="rose-bright">Pertanyaan Umum</span>
          </h2>
          <p class="text-gray-400 text-lg max-w-2xl mx-auto">
            Temukan jawaban atas pertanyaan yang sering diajukan tentang Vinca Gym
          </p>
        </div>

        <div class="max-w-4xl mx-auto space-y-6">
          <div class="card-modern">
            <button class="faq-toggle w-full p-6 text-left flex items-center justify-between focus:outline-none" onclick="toggleFAQ(this)">
              <h3 class="text-lg font-semibold text-white">Apakah Vinca Gym benar-benar khusus untuk wanita saja?</h3>
              <i class="ph ph-caret-down text-rose-bright text-xl transition-transform duration-300"></i>
            </button>
            <div class="faq-content hidden px-6 pb-6">
              <p class="text-gray-400 leading-relaxed">Ya, Vinca Gym 100% eksklusif untuk wanita. Tidak ada pria yang diperbolehkan masuk, baik sebagai member, trainer, maupun pengunjung. Semua staff dan gym keeper kami adalah wanita untuk memastikan kenyamanan maksimal bagi member.</p>
            </div>
          </div>

          <div class="card-modern">
            <button class="faq-toggle w-full p-6 text-left flex items-center justify-between focus:outline-none" onclick="toggleFAQ(this)">
              <h3 class="text-lg font-semibold text-white">Apakah ada musik di gym? Bagaimana dengan nilai-nilai islami?</h3>
              <i class="ph ph-caret-down text-rose-bright text-xl transition-transform duration-300"></i>
            </button>
            <div class="faq-content hidden px-6 pb-6">
              <p class="text-gray-400 leading-relaxed">Tidak ada musik di gym. Kami menerapkan konsep "No music, No ikhtilat, No camera" untuk menciptakan lingkungan yang sesuai dengan nilai-nilai islami. Suasana gym yang tenang memungkinkan member untuk fokus pada latihan dan dzikir.</p>
            </div>
          </div>

          <div class="card-modern">
            <button class="faq-toggle w-full p-6 text-left flex items-center justify-between focus:outline-none" onclick="toggleFAQ(this)">
              <h3 class="text-lg font-semibold text-white">Saya pemula dan belum pernah gym, apakah bisa bergabung?</h3>
              <i class="ph ph-caret-down text-rose-bright text-xl transition-transform duration-300"></i>
            </button>
            <div class="faq-content hidden px-6 pb-6">
              <p class="text-gray-400 leading-relaxed">Tentu saja! Vinca Gym sangat welcome untuk pemula. Gym keeper berpengalaman kami akan memberikan orientasi lengkap, mengajarkan teknik yang benar, dan merancang program latihan sesuai dengan level Anda. Tidak perlu khawatir, suasana di sini sangat supportif tanpa judgement.</p>
            </div>
          </div>

          <div class="card-modern">
            <button class="faq-toggle w-full p-6 text-left flex items-center justify-between focus:outline-none" onclick="toggleFAQ(this)">
              <h3 class="text-lg font-semibold text-white">Bagaimana cara daftar membership dan pembayarannya?</h3>
              <i class="ph ph-caret-down text-rose-bright text-xl transition-transform duration-300"></i>
            </button>
            <div class="faq-content hidden px-6 pb-6">
              <p class="text-gray-400 leading-relaxed">Anda bisa daftar melalui form online di website ini atau datang langsung ke gym. Pembayaran bisa dilakukan secara tunai, transfer bank, atau e-wallet. Untuk member baru, ada biaya registrasi 50K yang sudah termasuk orientasi dan pembuatan kartu member.</p>
            </div>
          </div>

          <div class="card-modern">
            <button class="faq-toggle w-full p-6 text-left flex items-center justify-between focus:outline-none" onclick="toggleFAQ(this)">
              <h3 class="text-lg font-semibold text-white">Fasilitas apa saja yang tersedia di Vinca Gym?</h3>
              <i class="ph ph-caret-down text-rose-bright text-xl transition-transform duration-300"></i>
            </button>
            <div class="faq-content hidden px-6 pb-6">
              <p class="text-gray-400 leading-relaxed">Kami menyediakan peralatan kardio (treadmill, sepeda statis), alat beban (dumbell, barbell, mesin weight), area stretching, ruang ganti yang bersih, dan area konsultasi. Semua peralatan dipilih khusus untuk kebutuhan dan kenyamanan wanita.</p>
            </div>
          </div>

          <div class="card-modern">
            <button class="faq-toggle w-full p-6 text-left flex items-center justify-between focus:outline-none" onclick="toggleFAQ(this)">
              <h3 class="text-lg font-semibold text-white">Apakah bisa freeze membership jika sedang tidak bisa datang?</h3>
              <i class="ph ph-caret-down text-rose-bright text-xl transition-transform duration-300"></i>
            </button>
            <div class="faq-content hidden px-6 pb-6">
              <p class="text-gray-400 leading-relaxed">Ya, kami memahami ada kalanya member tidak bisa datang karena alasan tertentu (sakit, bepergian, dll). Sistem freeze tersedia untuk paket Silver, Gold, dan Platinum dengan maksimal 30 hari per periode membership. Harap koordinasi dengan admin untuk pengaturannya.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="kontak" class="py-20 bg-gradient-dark">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-bold font-serif mb-4">
            Kunjungi <span class="rose-bright">Kami</span>
          </h2>
          <p class="text-gray-400 text-lg max-w-2xl mx-auto">
            Kami siap menyambut Anda di lokasi yang strategis dan nyaman di jantung Pamulang
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 max-w-6xl mx-auto">
          <!-- Contact Info -->
          <div class="space-y-8">
            <div class="card-modern p-8">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-gradient-to-br from-rose-bright/20 to-rose-light/10 rounded-lg flex items-center justify-center flex-shrink-0">
                  <i class="ph ph-map-pin text-2xl rose-bright"></i>
                </div>
                <div>
                  <h4 class="text-xl font-semibold text-white mb-2">Alamat</h4>
                  <p class="text-gray-400 leading-relaxed">
                    Reni Jaya Jl. Bratasena IX Blok U7/41,<br>
                    Pamulang, Tangerang Selatan
                  </p>
                </div>
              </div>
            </div>

            <div class="card-modern p-8">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-gradient-to-br from-rose-bright/20 to-rose-light/10 rounded-lg flex items-center justify-center flex-shrink-0">
                  <i class="ph ph-clock text-2xl rose-bright"></i>
                </div>
                <div>
                  <h4 class="text-xl font-semibold text-white mb-2">Jam Buka</h4>
                  <p class="text-gray-400 leading-relaxed">
                    Buka Setiap Hari<br>
                    <span class="rose-bright font-semibold">07.30 - 18.00 WIB</span>
                  </p>
                </div>
              </div>
            </div>

            <div class="card-modern p-8">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-gradient-to-br from-rose-bright/20 to-rose-light/10 rounded-lg flex items-center justify-center flex-shrink-0">
                  <i class="ph ph-phone text-2xl rose-bright"></i>
                </div>
                <div>
                  <h4 class="text-xl font-semibold text-white mb-2">Kontak</h4>
                  <p class="text-gray-400 leading-relaxed">
                    WhatsApp: <a href="https://wa.me/6285691208845" class="rose-bright hover:underline">+62 856 9120 8845</a><br>
                    <span class="text-sm">Untuk informasi dan pendaftaran</span>
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- CTA -->
          <div class="flex flex-col justify-center">
            <div class="card-modern p-12 text-center">
              <div class="w-20 h-20 bg-gradient-rose rounded-full flex items-center justify-center mx-auto mb-6">
                <i class="ph ph-sparkle text-3xl text-white"></i>
              </div>
              <h3 class="text-3xl font-bold font-serif text-white mb-4">
                Siap Memulai?
              </h3>
              <p class="text-gray-400 text-lg mb-8 leading-relaxed">
                Bergabunglah dengan komunitas wanita inspiratif di Vinca Gym. Mulai perjalanan transformasi Anda hari ini!
              </p>
              <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="daftar-member.html" class="btn-primary text-lg px-8 py-4">
                  <i class="ph ph-user-plus"></i> Daftar Sekarang
                </a>
                <a href="https://wa.me/6285691208845" class="btn-outline text-lg px-8 py-4">
                  <i class="ph ph-whatsapp-logo"></i> Chat WhatsApp
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black/90 py-12 border-t border-gray-800">
      <div class="container mx-auto px-6">
        <div class="text-center">
          <div class="text-3xl font-bold font-serif mb-4">
            <span class="text-white">Vinca</span> <span class="rose-bright">Gym</span>
          </div>
          <p class="text-gray-400 mb-6 max-w-md mx-auto">
            Ruang aman dan nyaman untuk wanita berolahraga. Move with us!
          </p>
          <div class="flex justify-center gap-6 mb-8">
            <a href="https://wa.me/6285691208845" class="w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center hover:bg-rose-bright/20 transition-colors">
              <i class="ph ph-whatsapp-logo text-xl text-gray-400 hover:text-rose-bright"></i>
            </a>
            <a href="mailto:info@vincagym.com" class="w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center hover:bg-rose-bright/20 transition-colors">
              <i class="ph ph-envelope text-xl text-gray-400 hover:text-rose-bright"></i>
            </a>
          </div>
          <div class="border-t border-gray-800 pt-6">
            <p class="text-gray-500 text-sm">
              &copy; 2024 Vinca Gym. All rights reserved. | Women Only Fitness Center
            </p>
          </div>
        </div>
      </div>
    </footer>

    <!-- QR Scanner Floating Button -->
    <div class="qr-float-btn" onclick="openQRScanner()" title="Scan QR untuk Check-in/out">
        <i class="ph ph-qr-code"></i>
    </div>

    <!-- WhatsApp Floating Button -->
    <a href="https://wa.me/6285691208845" class="whatsapp-float" title="Chat WhatsApp" target="_blank">
        <i class="ph ph-whatsapp-logo"></i>
    </a>

    <!-- QR Scanner Modal -->
    <div id="qr-modal" class="qr-modal hidden">
        <div class="qr-modal-content">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold text-white flex items-center gap-2">
                    <i class="ph ph-qr-code text-blue-400"></i>
                    Scan QR Code Member
                </h3>
                <button onclick="closeQRScanner()" class="text-gray-400 hover:text-white transition-colors">
                    <i class="ph ph-x text-xl"></i>
                </button>
            </div>

            <div class="text-center mb-4">
                <p class="text-gray-300">Arahkan kamera ke QR Code member untuk check-in/out</p>
            </div>

            <div id="reader"></div>

            <div class="text-center mt-4">
                <button onclick="closeQRScanner()" class="btn-outline">
                    <i class="ph ph-x"></i>
                    Tutup Scanner
                </button>
            </div>

            <div id="scan-result" class="mt-4">
                <!-- Scan result will be shown here -->
            </div>
        </div>
    </div>

    <!-- Firebase and JavaScript -->
    <script type="module">
        // Firebase imports and configuration
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { 
            getFirestore, 
            collection, 
            getDocs, 
            doc, 
            query, 
            where, 
            updateDoc, 
            getDoc, 
            setDoc, 
            arrayUnion, 
            runTransaction, 
            documentId, 
            writeBatch 
        } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBJsVSa2KVdB7w3A-5c9i5MqcpdaqZ_lqQ",
            authDomain: "vinca-gym-website.firebaseapp.com",
            projectId: "vinca-gym-website",
            storageBucket: "vinca-gym-website.firebasestorage.app",
            messagingSenderId: "430179505282",
            appId: "1:430179505282:web:e7128a258fb64cebcb109b",
            measurementId: "G-5KVHK8RPK9"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Global variables
        let html5QrCode = null;

        // Make functions available globally
        window.openQRScanner = openQRScanner;
        window.closeQRScanner = closeQRScanner;

        // Helper functions
        function getTodayDocId() {
            const today = new Date();
            return `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
        }

        async function fetchDocument(collectionName, docId) {
            try {
                const docRef = doc(db, collectionName, docId);
                const docSnap = await getDoc(docRef);
                return docSnap.exists() ? docSnap.data() : null;
            } catch (error) {
                console.error("Error fetching document:", error);
                return null;
            }
        }

        async function findMemberByCode(memberId) {
            try {
                const memberQuery = query(collection(db, "arsip_member"), where("kodePendaftaran", "==", memberId));
                const memberSnapshot = await getDocs(memberQuery);

                if (!memberSnapshot.empty) {
                    return memberSnapshot.docs[0].data();
                }
                return null;
            } catch (error) {
                console.error("Error finding member:", error);
                return null;
            }
        }

        function showScanResult(type, data) {
            const resultDiv = document.getElementById('scan-result');
            let resultHTML = '';

            switch (type) {
                case 'checkin_success':
                    resultHTML = `
                        <div class="result-success">
                            <div class="flex items-center gap-3 mb-2">
                                <i class="ph ph-check-circle text-2xl"></i>
                                <h4 class="font-bold text-lg">Check-in Berhasil!</h4>
                            </div>
                            <p><strong>Nama:</strong> ${data.nama}</p>
                            <p><strong>Kode:</strong> ${data.kodePendaftaran}</p>
                            <p><strong>Waktu:</strong> ${new Date().toLocaleTimeString('id-ID')}</p>
                            <p class="text-sm mt-2">Selamat berolahraga! ðŸ’ª</p>
                        </div>
                    `;
                    break;

                case 'checkout_success':
                    resultHTML = `
                        <div class="result-success">
                            <div class="flex items-center gap-3 mb-2">
                                <i class="ph ph-sign-out text-2xl"></i>
                                <h4 class="font-bold text-lg">Check-out Berhasil!</h4>
                            </div>
                            <p><strong>Nama:</strong> ${data.nama}</p>
                            <p><strong>Kode:</strong> ${data.kodePendaftaran}</p>
                            <p><strong>Waktu:</strong> ${new Date().toLocaleTimeString('id-ID')}</p>
                            <p class="text-sm mt-2">Terima kasih sudah berolahraga! ðŸŒŸ</p>
                        </div>
                    `;
                    break;

                case 'unpaid':
                    resultHTML = `
                        <div class="result-warning">
                            <div class="flex items-center gap-3 mb-2">
                                <i class="ph ph-warning text-2xl"></i>
                                <h4 class="font-bold text-lg">Pembayaran Belum Lunas</h4>
                            </div>
                            <p><strong>Nama:</strong> ${data.nama}</p>
                            <p><strong>Kode:</strong> ${data.kodePendaftaran}</p>
                            <p class="text-sm mt-2">Silakan lakukan pembayaran terlebih dahulu untuk mengakses gym.</p>
                        </div>
                    `;
                    break;

                case 'expired':
                    resultHTML = `
                        <div class="result-warning">
                            <div class="flex items-center gap-3 mb-2">
                                <i class="ph ph-calendar-x text-2xl"></i>
                                <h4 class="font-bold text-lg">Membership Expired</h4>
                            </div>
                            <p><strong>Nama:</strong> ${data.nama}</p>
                            <p><strong>Kode:</strong> ${data.kodePendaftaran}</p>
                            <p class="text-sm mt-2">Silakan perpanjang membership untuk melanjutkan akses gym.</p>
                        </div>
                    `;
                    break;

                case 'notfound':
                    resultHTML = `
                        <div class="result-error">
                            <div class="flex items-center gap-3 mb-2">
                                <i class="ph ph-user-x text-2xl"></i>
                                <h4 class="font-bold text-lg">Member Tidak Ditemukan</h4>
                            </div>
                            <p><strong>Kode yang di-scan:</strong> ${data.id}</p>
                            <p class="text-sm mt-2">Pastikan QR Code valid atau hubungi admin untuk bantuan.</p>
                        </div>
                    `;
                    break;

                case 'error':
                default:
                    resultHTML = `
                        <div class="result-error">
                            <div class="flex items-center gap-3 mb-2">
                                <i class="ph ph-x-circle text-2xl"></i>
                                <h4 class="font-bold text-lg">Terjadi Kesalahan</h4>
                            </div>
                            <p class="text-sm">${data.message || 'Silakan coba lagi atau hubungi admin.'}</p>
                        </div>
                    `;
                    break;
            }

            resultDiv.innerHTML = resultHTML;
        }

        async function handleMemberAttendance(memberId) {
            memberId = memberId.trim();
            const resultDiv = document.getElementById('scan-result');
            resultDiv.innerHTML = `<p class="text-center text-gray-300">Memproses ${memberId}...</p>`;

            try {
                const memberData = await findMemberByCode(memberId);

                if (!memberData) {
                    showScanResult('notfound', {id: memberId});
                    return;
                }

                const todayId = getTodayDocId();
                const attendanceDocRef = doc(db, "daily_attendance", todayId);

                await runTransaction(db, async (transaction) => {
                    const attendanceDoc = await transaction.get(attendanceDocRef);
                    let entries = attendanceDoc.exists() ? attendanceDoc.data().entries || [] : [];

                    // Check if member has an open check-in (no checkout)
                    const openCheckinIndex = entries.findIndex(
                        entry => entry.type === 'Member' && 
                                entry.kodePendaftaran === memberId && 
                                entry.waktuCheckout === null
                    );

                    if (openCheckinIndex > -1) {
                        // Check-out process
                        entries[openCheckinIndex].waktuCheckout = new Date();
                        transaction.set(attendanceDocRef, { entries: entries }, { merge: true });
                        showScanResult('checkout_success', memberData);
                    } else {
                        // Check-in process
                        const now = new Date();

                        // Validate member data
                        if (!memberData.tanggalSelesai || !memberData.tanggalSelesai.seconds) {
                            showScanResult('error', { 
                                nama: memberData.nama, 
                                message: 'Data tanggal selesai tidak valid.' 
                            });
                            return;
                        }

                        const tanggalSelesai = new Date(memberData.tanggalSelesai.seconds * 1000);

                        // Check payment status
                        if (memberData.statusPembayaran === false) {
                            showScanResult('unpaid', memberData);
                            return;
                        }

                        // Check membership expiry
                        if (now > tanggalSelesai) {
                            showScanResult('expired', memberData);
                            return;
                        }

                        // Create new check-in entry
                        const newEntry = {
                            id: Date.now(),
                            type: 'Member',
                            kodePendaftaran: memberData.kodePendaftaran,
                            nama: memberData.nama,
                            waktuCheckin: new Date(),
                            waktuCheckout: null
                        };

                        entries.push(newEntry);
                        transaction.set(attendanceDocRef, { entries: entries }, { merge: true });
                        showScanResult('checkin_success', memberData);
                    }
                });

            } catch (error) {
                console.error("Error handling attendance:", error);
                showScanResult('error', { message: 'Terjadi kesalahan sistem. Silakan coba lagi.' });
            }
        }

        function openQRScanner() {
            const modal = document.getElementById('qr-modal');
            const resultDiv = document.getElementById('scan-result');

            modal.classList.remove('hidden');
            resultDiv.innerHTML = ''; // Clear previous results

            // Initialize QR scanner
            html5QrCode = new Html5Qrcode("reader");

            const onScanSuccess = (decodedText, decodedResult) => {
                // Process the scanned code
                handleMemberAttendance(decodedText);

                // Stop scanner
                if (html5QrCode && html5QrCode.isScanning) {
                    html5QrCode.stop().catch(err => console.error("Gagal menghentikan scanner:", err));
                }
            };

            const onScanFailure = (error) => {
                // Ignore scan failures (normal when no QR code is detected)
            };

            // Get cameras and start scanning
            Html5Qrcode.getCameras().then(devices => {
                if (devices && devices.length) {
                    // Prefer back camera if available
                    const cameraId = devices.find(d => d.label.toLowerCase().includes('back'))?.id || devices[0].id;

                    html5QrCode.start(
                        cameraId,
                        {
                            fps: 10,
                            qrbox: { width: 250, height: 250 }
                        },
                        onScanSuccess,
                        onScanFailure
                    ).catch(err => {
                        console.error("Gagal memulai scanner:", err);
                        showScanResult('error', { 
                            message: 'Tidak dapat memulai kamera. Pastikan Anda telah memberikan izin akses kamera.' 
                        });
                    });
                } else {
                    showScanResult('error', { message: 'Tidak ada kamera yang tersedia.' });
                }
            }).catch(err => {
                console.error("Error getting cameras:", err);
                showScanResult('error', { message: 'Gagal mengakses kamera.' });
            });
        }

        function closeQRScanner() {
            const modal = document.getElementById('qr-modal');

            // Stop scanner if running
            if (html5QrCode && html5QrCode.isScanning) {
                html5QrCode.stop().then(() => {
                    html5QrCode = null;
                }).catch(err => {
                    console.error("Error stopping scanner:", err);
                });
            }

            modal.classList.add('hidden');
        }

        // Close modal when clicking outside
        document.getElementById('qr-modal').addEventListener('click', (e) => {
            if (e.target.id === 'qr-modal') {
                closeQRScanner();
            }
        });

    </script>

    <script>
    // Mobile menu toggle
    document.getElementById('menu-btn').addEventListener('click', function() {
      const menu = document.getElementById('mobile-menu');
      menu.classList.toggle('hidden');
    });

    // FAQ Toggle function
    function toggleFAQ(button) {
      const content = button.nextElementSibling;
      const icon = button.querySelector('i');

      content.classList.toggle('hidden');
      icon.classList.toggle('rotate-180');
    }

    // Prayer times functionality
    class PrayerTimes {
      constructor() {
        this.prayers = ['Subuh', 'Dzuhur', 'Ashar', 'Maghrib', 'Isya'];
        this.times = ['05:15', '12:00', '15:30', '18:00', '19:15']; // Fixed times for Pamulang
        this.init();
      }

      init() {
        this.updateCurrentDate();
        this.updateNextPrayer();
        this.updateEvery30Seconds();
      }

      updateCurrentDate() {
        const now = new Date();
        const options = { 
          weekday: 'long', 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric' 
        };
        const currentDate = now.toLocaleDateString('id-ID', options);

        // Simple Hijri date calculation (approximate)
        const hijriDate = this.getHijriDate(now);

        const currentDateEl = document.getElementById('current-date');
        const hijriDateEl = document.getElementById('hijri-date');

        if (currentDateEl) currentDateEl.textContent = currentDate;
        if (hijriDateEl) hijriDateEl.textContent = hijriDate;
      }

      getHijriDate(gregorianDate) {
        // Simplified Hijri calculation - in real app, use proper Islamic calendar API
        const hijriYear = gregorianDate.getFullYear() - 579;
        const hijriMonths = ['Muharram', 'Safar', 'Rabi\'ul Awwal', 'Rabi\'ul Akhir', 'Jumadal Awwal', 'Jumadal Akhir', 'Rajab', 'Sya\'ban', 'Ramadhan', 'Syawal', 'Dzulqa\'dah', 'Dzulhijjah'];
        const month = hijriMonths[gregorianDate.getMonth()];
        const day = gregorianDate.getDate();
        return `${day} ${month} ${hijriYear} H`;
      }

      updateNextPrayer() {
        const now = new Date();
        const currentTime = now.getHours() * 60 + now.getMinutes();

        let nextPrayerIndex = -1;
        let nextPrayerTime = '';

        for (let i = 0; i < this.times.length; i++) {
          const [hours, minutes] = this.times[i].split(':').map(Number);
          const prayerTime = hours * 60 + minutes;

          if (currentTime < prayerTime) {
            nextPrayerIndex = i;
            nextPrayerTime = this.times[i];
            break;
          }
        }

        // If no prayer left today, next is Subuh tomorrow
        if (nextPrayerIndex === -1) {
          nextPrayerIndex = 0;
          nextPrayerTime = this.times[0];
        }

        const nextPrayerEl = document.getElementById('next-prayer-time');
        if (nextPrayerEl) {
          nextPrayerEl.textContent = `${this.prayers[nextPrayerIndex]} ${nextPrayerTime}`;
        }
      }

      updateEvery30Seconds() {
        setInterval(() => {
          this.updateNextPrayer();
        }, 30000);
      }

      populateModal() {
        const container = document.getElementById('prayer-list');
        if (!container) return;

        container.innerHTML = '';

        for (let i = 0; i < this.prayers.length; i++) {
          const prayerDiv = document.createElement('div');
          prayerDiv.className = 'flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10';

          prayerDiv.innerHTML = `
            <div class="flex items-center gap-3">
              <i class="ph ph-circle text-rose-bright text-sm"></i>
              <span class="text-white font-medium">${this.prayers[i]}</span>
            </div>
            <span class="text-rose-bright font-semibold">${this.times[i]}</span>
          `;

          container.appendChild(prayerDiv);
        }
      }
    }

    // Global functions for modal
    function showPrayerModal() {
      const modal = document.getElementById('prayer-modal');
      if (modal) {
        window.heroPrayerTimes.populateModal();
        modal.classList.remove('hidden');
        modal.classList.add('flex');
      }
    }

    function closePrayerModal() {
      const modal = document.getElementById('prayer-modal');
      if (modal) {
        modal.classList.add('hidden');
        modal.classList.remove('flex');
      }
    }

    // Close modal when clicking outside
    document.getElementById('prayer-modal')?.addEventListener('click', (e) => {
      if (e.target.id === 'prayer-modal') {
        closePrayerModal();
      }
    });

    // Initialize prayer times
    document.addEventListener('DOMContentLoaded', function() {
      window.heroPrayerTimes = new PrayerTimes();
    });

    // Scroll effect for header
    window.addEventListener('scroll', function() {
      const header = document.querySelector('nav');
      if (window.scrollY > 100) {
        header.style.background = 'rgba(15, 15, 15, 0.95)';
        header.style.backdropFilter = 'blur(20px)';
      } else {
        header.style.background = 'rgba(15, 15, 15, 0.9)';
        header.style.backdropFilter = 'blur(20px)';
      }
    });
    </script>

</body>
</html>
